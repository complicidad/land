<!doctype html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Latam5S ‚Äî Organiza tus env√≠os con calma</title>
    <meta name="description" content="Organiza tus env√≠os sin direcciones confusas ni mensajes perdidos. Latam5S es la herramienta para emprendedores que buscan calma y eficiencia.">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&display=swap" rel="stylesheet">
    
    <!-- Feather Icons for Dark Mode Toggle -->
    <script src="https://unpkg.com/feather-icons"></script>

    <style>
        /* Estilos base y para la fuente personalizada */
        body {
            font-family: "Quicksand", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
        }
        /* Ocultar flechas en inputs de tipo n√∫mero (para WhatsApp) */
        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        input[type=number] {
            -moz-appearance: textfield;
        }
    </style>

    <script>
        // Configuraci√≥n personalizada para Tailwind CSS
        tailwind.config = {
            darkMode: 'class', // Habilitar modo oscuro basado en clase
            theme: {
                extend: {
                    colors: {
                        'brand-bg': '#fffaf6',
                        'brand-card': '#ffffff',
                        'brand-text': '#2b2b2b',
                        'brand-muted': '#6b6b6b',
                        'brand-accent': '#D96B4F',
                        'brand-accent-alt': '#FF8B6A',
                    },
                    fontFamily: {
                        'quicksand': ['Quicksand', 'sans-serif'],
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-brand-bg dark:bg-gray-900 text-brand-text dark:text-gray-200 transition-colors duration-300">

<div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    
    <!-- Encabezado -->
    <header class="flex items-center justify-between w-full mb-10">
        <a href="#" class="flex items-center gap-3">
            <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-brand-accent to-brand-accent-alt flex items-center justify-center text-white font-bold text-xl shadow-lg shadow-brand-accent/30">
                L5S
            </div>
            <div>
                <div class="font-bold text-lg dark:text-white">Latam5S</div>
                <div class="text-sm text-brand-muted dark:text-gray-400">Organiza tus env√≠os</div>
            </div>
        </a>
        <button id="darkModeToggle" class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors">
            <i data-feather="sun" class="text-gray-600 dark:hidden"></i>
            <i data-feather="moon" class="text-white hidden dark:inline"></i>
        </button>
    </header>

    <main>
        <!-- Secci√≥n Hero -->
        <section class="text-center bg-gradient-to-br from-brand-accent to-orange-400 text-white rounded-3xl py-16 px-6 shadow-2xl shadow-brand-accent/30 mb-20">
            <h1 class="text-3xl md:text-5xl font-bold leading-tight mb-4">Organiza tus env√≠os con calma</h1>
            <p class="text-lg md:text-xl font-light mb-8 max-w-3xl mx-auto">Sin direcciones confusas ni mensajes perdidos. Descubre la nueva versi√≥n de Latam5S, hecha para ti.</p>
            <a href="#form" class="bg-white text-brand-accent font-bold py-3 px-8 rounded-xl shadow-md hover:bg-gray-100 transition-transform hover:scale-105 inline-block">
                üöÄ Quiero mi acceso
            </a>
        </section>

        <!-- Secci√≥n Chat Simulado -->
        <section class="text-center mb-20">
            <h2 class="text-2xl md:text-3xl font-bold text-brand-accent dark:text-orange-400 mb-4">¬øCansado del desorden de direcciones?</h2>
            <div id="chat-container" class="relative w-full max-w-sm h-[475px] mx-auto bg-cover bg-bottom bg-no-repeat rounded-3xl shadow-2xl p-4 flex flex-col mb-6" style="background-image: url('https://raw.githubusercontent.com/complicidad/landing/main/Image.jpg');">
                <div id="chat" class="flex flex-col gap-2 overflow-y-auto flex-grow"></div>
            </div>
            <button id="toggleBtn" class="bg-gradient-to-r from-brand-accent to-brand-accent-alt text-white font-bold py-3 px-8 rounded-full shadow-lg shadow-brand-accent/40 hover:shadow-xl hover:-translate-y-1 transition-all">Ver la soluci√≥n</button>
        </section>
        
        <!-- Secci√≥n Carrusel -->
        <section id="carrusel-dashboard" class="text-center mb-20">
            <h2 class="text-2xl md:text-3xl font-bold dark:text-white mb-2">Explora el Panel de Control</h2>
            <p class="text-brand-muted dark:text-gray-400 max-w-xl mx-auto mb-10">Control total al alcance de tus manos, con una interfaz simple y poderosa.</p>
            <div class="relative max-w-2xl mx-auto shadow-2xl rounded-2xl">
                <div id="carrusel-track" class="relative overflow-hidden rounded-2xl">
                    <img src="https://raw.githubusercontent.com/complicidad/landing/main/dashboard.png" alt="Vista del dashboard principal" class="carousel-slide w-full transition-opacity duration-500 ease-in-out">
                    <img src="https://raw.githubusercontent.com/complicidad/landing/main/dashboard2.png" alt="Vista de la gesti√≥n de env√≠os" class="carousel-slide w-full transition-opacity duration-500 ease-in-out absolute top-0 left-0 opacity-0">
                </div>
                <button id="prevBtn" class="carousel-btn absolute top-1/2 left-3 -translate-y-1/2 bg-white/70 hover:bg-white dark:bg-gray-800/70 dark:hover:bg-gray-800 rounded-full w-10 h-10 flex items-center justify-center text-xl shadow-md transition disabled:opacity-0 disabled:cursor-not-allowed">‚Äπ</button>
                <button id="nextBtn" class="carousel-btn absolute top-1/2 right-3 -translate-y-1/2 bg-white/70 hover:bg-white dark:bg-gray-800/70 dark:hover:bg-gray-800 rounded-full w-10 h-10 flex items-center justify-center text-xl shadow-md transition disabled:opacity-0 disabled:cursor-not-allowed">‚Ä∫</button>
            </div>
            <div id="carousel-dots" class="flex justify-center gap-2 mt-4"></div>
        </section>
        
        <!-- Secci√≥n Comparativa -->
        <section id="comparativo" class="text-center mb-20">
             <h2 class="text-2xl md:text-3xl font-bold dark:text-white mb-2">Pasa del caos al control total</h2>
            <p class="text-brand-muted dark:text-gray-400 max-w-xl mx-auto mb-8">Mira c√≥mo <strong>Latam5S</strong> transforma tu d√≠a a d√≠a.</p>
            <button id="toggleComparativo" class="bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 font-bold py-3 px-8 rounded-full hover:bg-gray-300 dark:hover:bg-gray-600 transition-all" aria-expanded="false">
                Descubre la diferencia üí°
            </button>
            <div id="tablaComparativa" class="hidden mt-8 transition-all duration-500 max-w-4xl mx-auto">
                <div class="overflow-x-auto rounded-xl shadow-lg">
                    <table class="w-full text-sm text-left">
                        <thead class="bg-orange-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 uppercase">
                            <tr>
                                <th scope="col" class="px-6 py-3">Situaci√≥n</th>
                                <th scope="col" class="px-6 py-3">Sin Latam5S üò©</th>
                                <th scope="col" class="px-6 py-3">Con Latam5S üòå</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-200 dark:divide-gray-700">
                            <tr class="bg-white dark:bg-gray-800/50">
                                <td class="px-6 py-4 font-semibold">Coordinaci√≥n</td>
                                <td class="px-6 py-4 bg-red-50 dark:bg-red-900/20">Caos y mensajes por todos lados üòµ‚Äçüí´</td>
                                <td class="px-6 py-4 bg-green-50 dark:bg-green-900/20">Todo ordenado desde un solo lugar ‚ú®</td>
                            </tr>
                            <tr class="bg-white dark:bg-gray-800/50">
                                <td class="px-6 py-4 font-semibold">Control de fechas</td>
                                <td class="px-6 py-4 bg-red-50 dark:bg-red-900/20">Se olvidan o confunden los env√≠os üìÖ</td>
                                <td class="px-6 py-4 bg-green-50 dark:bg-green-900/20">Fechas a elecci√≥n y precisas ‚è∞</td>
                            </tr>
                            <tr class="bg-white dark:bg-gray-800/50">
                                <td class="px-6 py-4 font-semibold">Datos para couriers</td>
                                <td class="px-6 py-4 bg-red-50 dark:bg-red-900/20">Datos errados o mal escritos</td>
                                <td class="px-6 py-4 bg-green-50 dark:bg-green-900/20">Datos listos para carga masiva</td>
                            </tr>
                            <tr class="bg-white dark:bg-gray-800/50">
                                <td class="px-6 py-4 font-semibold">Orden y control</td>
                                <td class="px-6 py-4 bg-red-50 dark:bg-red-900/20">Mensajes repetidos y estr√©s üì≤</td>
                                <td class="px-6 py-4 bg-green-50 dark:bg-green-900/20">Panel de control centralizado</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Secci√≥n Beneficios -->
        <section id="beneficios" class="max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8 mb-20">
            <div class="bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg hover:shadow-xl hover:-translate-y-1.5 transition-all">
                <h4 class="font-bold text-lg text-brand-accent dark:text-orange-400 mb-2">üòå Sensaci√≥n de calma</h4>
                <p class="text-brand-muted dark:text-gray-400 text-sm">Menos mensajes perdidos y direcciones confusas ‚Äî m√°s tranquilidad para ti.</p>
            </div>
            <div class="bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg hover:shadow-xl hover:-translate-y-1.5 transition-all">
                <h4 class="font-bold text-lg text-brand-accent dark:text-orange-400 mb-2">‚è±Ô∏è M√°s tiempo para vender</h4>
                <p class="text-brand-muted dark:text-gray-400 text-sm">Menos horas organizando env√≠os, m√°s horas haciendo crecer tu negocio.</p>
            </div>
            <div class="bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg hover:shadow-xl hover:-translate-y-1.5 transition-all">
                <h4 class="font-bold text-lg text-brand-accent dark:text-orange-400 mb-2">üìä Decisiones claras</h4>
                <p class="text-brand-muted dark:text-gray-400 text-sm">Controla lo que se env√≠a y cu√°ndo ‚Äî evita reenv√≠os y problemas.</p>
            </div>
        </section>

        <!-- Secci√≥n Formulario -->
        <section id="form" class="max-w-2xl mx-auto bg-white dark:bg-gray-800 rounded-3xl p-8 md:p-12 shadow-2xl">
            <h2 class="text-2xl font-bold text-center text-gray-800 dark:text-white mb-2">Obt√©n 15 d√≠as GRATIS y 50% OFF</h2>
            <p class="text-center text-brand-muted dark:text-gray-400 mb-8">Completa tus datos, validaremos tu negocio y te enviaremos tu acceso exclusivo.</p>
            <form id="leadForm" class="grid gap-6">
                <div>
                    <label for="business" class="block font-semibold text-sm text-brand-muted dark:text-gray-400 mb-2">Nombre del emprendimiento</label>
                    <input id="business" name="business" type="text" placeholder="Ej: La Tiendita de Ana" required class="w-full p-3 rounded-lg border border-gray-200 dark:bg-gray-700 dark:border-gray-600 focus:ring-2 focus:ring-brand-accent focus:border-transparent outline-none transition">
                </div>
                 <div>
                    <label for="profile" class="block font-semibold text-sm text-brand-muted dark:text-gray-400 mb-2">Perfil de tu negocio (Instagram, TikTok, etc.)</label>
                    <input id="profile" name="profile" type="url" placeholder="Ej: instagram.com/latienditadeana" required class="w-full p-3 rounded-lg border border-gray-200 dark:bg-gray-700 dark:border-gray-600 focus:ring-2 focus:ring-brand-accent focus:border-transparent outline-none transition">
                </div>
                <div>
                    <label class="block font-semibold text-sm text-brand-muted dark:text-gray-400 mb-2">¬øEn qu√© redes vendes m√°s?</label>
                    <div id="networks" class="flex flex-wrap gap-3">
                        <button type="button" class="chip" data-value="TikTok">TikTok</button>
                        <button type="button" class="chip" data-value="Instagram">Instagram</button>
                        <button type="button" class="chip" data-value="WhatsApp">WhatsApp</button>
                        <button type="button" class="chip" data-value="Facebook">Facebook</button>
                        <button type="button" class="chip" data-value="Otro">Otro</button>
                    </div>
                </div>
                <div>
                    <label for="volume" class="block font-semibold text-sm text-brand-muted dark:text-gray-400 mb-2">¬øCu√°ntos env√≠os haces por semana?</label>
                    <select id="volume" name="volume" required class="w-full p-3 rounded-lg border border-gray-200 dark:bg-gray-700 dark:border-gray-600 focus:ring-2 focus:ring-brand-accent focus:border-transparent outline-none transition appearance-none">
                        <option value="">Selecciona un rango</option>
                        <option value="Menos de 10">Menos de 10</option>
                        <option value="10-30">10 - 30</option>
                        <option value="30-60">30 - 60</option>
                        <option value="M√°s de 60">M√°s de 60</option>
                    </select>
                </div>
                <div>
                     <label for="wa" class="block font-semibold text-sm text-brand-muted dark:text-gray-400 mb-2">Tu WhatsApp (para contactarte)</label>
                    <input id="wa" name="wa" type="number" placeholder="Ej: 987654321" required class="w-full p-3 rounded-lg border border-gray-200 dark:bg-gray-700 dark:border-gray-600 focus:ring-2 focus:ring-brand-accent focus:border-transparent outline-none transition">
                </div>
                <div>
                    <label for="email" class="block font-semibold text-sm text-brand-muted dark:text-gray-400 mb-2">Tu email (Opcional)</label>
                    <input id="email" name="email" type="email" placeholder="Aqu√≠ enviaremos tu acceso a la prueba" class="w-full p-3 rounded-lg border border-gray-200 dark:bg-gray-700 dark:border-gray-600 focus:ring-2 focus:ring-brand-accent focus:border-transparent outline-none transition">
                </div>
                <button type="submit" id="submitBtn" class="w-full bg-gradient-to-r from-brand-accent to-brand-accent-alt text-white font-bold py-4 rounded-xl shadow-lg shadow-brand-accent/40 hover:opacity-90 transition-all duration-300 flex items-center justify-center gap-2">
                    <span id="submitBtnText">Solicitar mi acceso GRATIS</span>
                    <svg id="submitBtnSpinner" class="animate-spin -ml-1 mr-3 h-5 w-5 text-white hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                      <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                      <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                    </svg>
                </button>
            </form>
        </section>
    </main>

    <!-- Footer -->
    <footer class="text-center text-brand-muted dark:text-gray-500 text-sm mt-20 pb-8">
        ¬© 2025 Latam5S ‚Äî Organiza tus env√≠os con calma
    </footer>
    
    <!-- Bot√≥n Flotante -->
    <a href="https://complicidad.github.io/dashboard/" target="_blank" class="fixed bottom-6 right-6 bg-gradient-to-br from-brand-accent to-orange-400 text-white py-3 px-5 rounded-full shadow-2xl shadow-brand-accent/40 hover:-translate-y-1 hover:shadow-brand-accent/60 transition-all z-50 flex items-center gap-2">
        üöÄ <span class="hidden sm:inline">Ir al Dashboard</span>
    </a>
    
    <!-- Contenedor para Notificaciones (reemplaza alert) -->
    <div id="notification" class="fixed top-5 right-5 bg-red-500 text-white py-3 px-5 rounded-lg shadow-lg transform translate-x-[120%] transition-transform duration-500 z-50">
        <p>Este es un mensaje de error.</p>
    </div>

</div>

<script>
document.addEventListener('DOMContentLoaded', () => {

    // Inicializar iconos
    feather.replace();

    /**
     * GESTI√ìN DEL MODO OSCURO
     */
    function setupDarkModeToggle() {
        const darkModeToggle = document.getElementById('darkModeToggle');
        const html = document.documentElement;

        // Cargar preferencia guardada
        if (localStorage.getItem('darkMode') === 'true' || 
           (!('darkMode' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            html.classList.add('dark');
        }

        darkModeToggle.addEventListener('click', () => {
            html.classList.toggle('dark');
            localStorage.setItem('darkMode', html.classList.contains('dark'));
        });
    }

    /**
     * CHAT SIMULADO
     */
    function setupSimulatedChat() {
        const chat = document.getElementById('chat');
        const toggleBtn = document.getElementById('toggleBtn');
        if (!chat || !toggleBtn) return;

        const problemMessages = [
            { text: "Hola, quiero que me env√≠en mi pedido.", from: "user" },
            { text: "Ok, ¬øme pasas la direcci√≥n?", from: "system" },
            { text: "Calle Falsa 123", from: "user" },
            { text: "Ah, ¬øy en qu√© distrito?", from: "system" },
            { text: "San Juan de Lurigancho", from: "user" },
            { text: "Ok, ¬øalguna referencia?", from: "system" },
            { text: "Est√° al lado del parque, entrada amarilla üòÖ", from: "user" },
            { text: "Perfecto, listo.", from: "system" }
        ];

        const solutionMessages = [
            { text: "Hola, quiero que me env√≠en mi pedido.", from: "user" },
            { text: "¬°Perfecto! üòÉ Para asegurarnos que todo llegue bien, completa tus datos en este enlace:", from: "system" },
            { text: "https://latam5s.com/form", from: "system" },
            { text: "Listo, agregu√© todos mis datos. ¬°Gracias!", from: "user" },
            { text: "¬°Excelente! Tu env√≠o est√° programado. Gracias üöÄ", from: "system" }
        ];

        let showingProblem = true;

        const styles = {
            user: "self-start bg-green-100 dark:bg-green-900/50 text-gray-800 dark:text-gray-200 rounded-lg rounded-bl-none",
            system: "self-end bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-lg rounded-br-none shadow-sm"
        };
        
        function renderChat(messages) {
            chat.innerHTML = '';
            let delay = 0;
            messages.forEach(m => {
                const div = document.createElement('div');
                div.className = `message p-2.5 px-3.5 max-w-[80%] text-sm opacity-0 translate-y-2 transition-all duration-300 ${styles[m.from]}`;
                div.textContent = m.text;
                chat.appendChild(div);
                setTimeout(() => {
                    div.classList.remove('opacity-0', 'translate-y-2');
                    chat.scrollTop = chat.scrollHeight; // Auto-scroll
                }, delay);
                delay += 500;
            });
        }

        renderChat(problemMessages);

        toggleBtn.addEventListener('click', () => {
            showingProblem = !showingProblem;
            renderChat(showingProblem ? problemMessages : solutionMessages);
            toggleBtn.textContent = showingProblem ? "Ver la soluci√≥n" : "Volver al problema";
        });
    }

    /**
     * TABLA COMPARATIVA
     */
    function setupComparisonTable() {
        const toggleButton = document.getElementById('toggleComparativo');
        const table = document.getElementById('tablaComparativa');
        if (!toggleButton || !table) return;

        toggleButton.addEventListener('click', () => {
            const isVisible = !table.classList.contains('hidden');
            if (isVisible) {
                table.classList.add('hidden');
                toggleButton.textContent = 'Descubre la diferencia üí°';
                toggleButton.setAttribute('aria-expanded', 'false');
            } else {
                table.classList.remove('hidden');
                toggleButton.textContent = 'Ocultar comparaci√≥n üîí';
                toggleButton.setAttribute('aria-expanded', 'true');
            }
        });
    }
    
    /**
     * CARRUSEL DE IM√ÅGENES
     */
    function setupCarousel() {
        const track = document.getElementById('carrusel-track');
        if (!track) return;

        const slides = Array.from(track.children);
        const nextBtn = document.getElementById('nextBtn');
        const prevBtn = document.getElementById('prevBtn');
        const dotsContainer = document.getElementById('carousel-dots');
        let currentIndex = 0;

        // Crear puntos de navegaci√≥n
        slides.forEach((_, index) => {
            const dot = document.createElement('button');
            dot.classList.add('dot', 'w-2.5', 'h-2.5', 'rounded-full', 'transition', 'bg-gray-300', 'dark:bg-gray-600');
            dot.addEventListener('click', () => {
                currentIndex = index;
                updateCarousel();
            });
            dotsContainer.appendChild(dot);
        });
        const dots = Array.from(dotsContainer.children);

        function updateCarousel() {
            slides.forEach((slide, index) => {
                slide.classList.toggle('opacity-0', index !== currentIndex);
                slide.classList.toggle('absolute', index !== currentIndex);
            });
            dots.forEach((dot, index) => {
                dot.classList.toggle('bg-brand-accent', index === currentIndex);
                dot.classList.toggle('dark:bg-orange-400', index === currentIndex);
                dot.classList.toggle('bg-gray-300', index !== currentIndex);
                dot.classList.toggle('dark:bg-gray-600', index !== currentIndex);
            });
            prevBtn.disabled = currentIndex === 0;
            nextBtn.disabled = currentIndex === slides.length - 1;
        }
        
        nextBtn.addEventListener('click', () => {
            if (currentIndex < slides.length - 1) {
                currentIndex++;
                updateCarousel();
            }
        });

        prevBtn.addEventListener('click', () => {
            if (currentIndex > 0) {
                currentIndex--;
                updateCarousel();
            }
        });

        updateCarousel(); // Estado inicial
    }

    /**
     * FORMULARIO DE REGISTRO
     */
    function setupLeadForm() {
        const form = document.getElementById('leadForm');
        if (!form) return;
        
        const networksContainer = document.getElementById('networks');
        const submitBtn = document.getElementById('submitBtn');
        const submitBtnText = document.getElementById('submitBtnText');
        const submitBtnSpinner = document.getElementById('submitBtnSpinner');

        // L√≥gica de los "chips"
        networksContainer.addEventListener('click', e => {
            const chip = e.target.closest('.chip');
            if (chip) {
                chip.classList.toggle('selected');
                chip.classList.toggle('bg-gradient-to-r');
                chip.classList.toggle('from-brand-accent');
                chip.classList.toggle('to-brand-accent-alt');
                chip.classList.toggle('text-white');
                chip.classList.toggle('border-transparent');
                
                chip.classList.toggle('bg-gray-100');
                chip.classList.toggle('dark:bg-gray-700');
                chip.classList.toggle('text-gray-600');
                chip.classList.toggle('dark:text-gray-300');
            }
        });

        // L√≥gica de env√≠o del formulario
        const COMPANY_WHATSAPP = '51942096391';
        const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbwKHlMOihxCPleUn_Cy0hOyLNDj_qDnv9k_U9Ftm-skDY3SXj-Sm8nQvcvSauIKFddfSw/exec';

        form.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const business = form.elements.business.value.trim();
            const profile = form.elements.profile.value.trim();
            const wa = form.elements.wa.value.trim();
            const volume = form.elements.volume.value;
            const email = form.elements.email.value.trim();
            const selectedNetworks = Array.from(networksContainer.querySelectorAll('.chip.selected')).map(c => c.dataset.value);

            // Validaci√≥n mejorada
            let isValid = true;
            if (!business) {
                showNotification('El nombre del emprendimiento es requerido.');
                isValid = false;
            } else if (!profile) {
                showNotification('El perfil de tu negocio es requerido para la validaci√≥n.');
                isValid = false;
            } else if (selectedNetworks.length === 0) {
                showNotification('Selecciona al menos una red social.');
                isValid = false;
            } else if (!volume) {
                showNotification('Selecciona el volumen de env√≠os.');
                isValid = false;
            } else if (!/^[9]\d{8}$/.test(wa)) {
                showNotification('Ingresa un n√∫mero de WhatsApp v√°lido de 9 d√≠gitos (iniciando con 9).');
                isValid = false;
            } else if (email && !/^\S+@\S+\.\S+$/.test(email)) {
                showNotification('Por favor, ingresa un email v√°lido.');
                isValid = false;
            }
            if (!isValid) return;

            // Mostrar estado de carga
            submitBtn.disabled = true;
            submitBtnText.classList.add('hidden');
            submitBtnSpinner.classList.remove('hidden');

            const payload = { business, profile, whatsapp: wa, volume, networks: selectedNetworks.join(', '), email };

            try {
                await fetch(SCRIPT_URL, {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                showNotification('¬°Registro exitoso! Te contactaremos pronto.', 'success');
                
                const msg = encodeURIComponent(`üëã ¬°Hola! Quiero mi prueba de 15 d√≠as para LATAM 5S.\n\nüìõ Emprendimiento: ${business}\nüîó Perfil: ${profile}\nüì¶ Env√≠os/semana: ${volume}\nüìû Mi WhatsApp: ${wa}\n\nGracias`);
                setTimeout(() => {
                    window.open(`https://wa.me/${COMPANY_WHATSAPP}?text=${msg}`, '_blank');
                }, 1000);

                form.reset();
                networksContainer.querySelectorAll('.chip.selected').forEach(c => c.click());
                
            } catch (err) {
                console.error('Error al enviar datos:', err);
                showNotification('Hubo un error al registrar. Int√©ntalo de nuevo.');
            } finally {
                // Restaurar bot√≥n
                 setTimeout(() => {
                    submitBtn.disabled = false;
                    submitBtnText.classList.remove('hidden');
                    submitBtnSpinner.classList.add('hidden');
                }, 1500);
            }
        });
    }
    
    /**
     * SISTEMA DE NOTIFICACIONES (REEMPLAZA ALERT)
     */
    let notificationTimeout;
    function showNotification(message, type = 'error') {
        const notification = document.getElementById('notification');
        notification.textContent = message;

        // Limpiar clases anteriores
        notification.classList.remove('bg-red-500', 'bg-green-500');
        
        if (type === 'success') {
            notification.classList.add('bg-green-500');
        } else {
            notification.classList.add('bg-red-500');
        }

        notification.classList.remove('translate-x-[120%]');
        
        // Ocultar despu√©s de 5 segundos
        clearTimeout(notificationTimeout);
        notificationTimeout = setTimeout(() => {
            notification.classList.add('translate-x-[120%]');
        }, 5000);
    }
    
    // Inicializar todos los m√≥dulos
    setupDarkModeToggle();
    setupSimulatedChat();
    setupComparisonTable();
    setupCarousel();
    setupLeadForm();
});
</script>

</body>
</html>

